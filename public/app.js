webpackJsonp([0],{144:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(44),l=r(s),f=n(96),p=r(f),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(e){var n,r;return r=n=function(n){function r(){var t,e,n,u;o(this,r);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return e=n=i(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(c))),n.onStoreChange=function(){n.subscriptionId&&n.forceUpdate()},u=e,i(n,u)}return u(r,n),c(r,[{key:"componentDidMount",value:function(){this.subscriptionId=this.context.store.subscribe(this.onStoreChange),this.context.store.startClock()}},{key:"componentWillUnmount",value:function(){this.context.store.unsubscribe(this.subscriptionId),this.subscriptionId=null}},{key:"render",value:function(){return l.default.createElement(e,a({},this.props,t(this.context.store,this.props),{store:this.context.store}))}}]),r}(l.default.PureComponent),n.displayName=e.name+"Container",n.contextTypes={store:p.default.object},r}};e.default=d},537:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(44),i=r(o),u=n(187),a=r(u),c=n(538),s=r(c),l=n(543),f=r(l),p=window,d=p.initialData,h=new f.default(d);a.default.render(i.default.createElement(s.default,{store:h}),document.getElementById("root"))},538:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(44),s=r(c),l=n(96),f=r(l),p=n(219),d=r(p),h=n(539),b=r(h),y=n(541),m=r(y),v=n(542),g=r(v),_=function(t){function e(){var t,n,r,u;o(this,e);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),r.onStoreChange=function(){r.setState(r.props.store.getState())},r.state=r.props.store.getState(),u=n,i(r,u)}return u(e,t),a(e,[{key:"getChildContext",value:function(){return{store:this.props.store}}},{key:"componentDidMount",value:function(){this.subscriptionId=this.props.store.subscribe(this.onStoreChange)}},{key:"componentWillUnmount",value:function(){this.props.store.unsubcribe(this.subscriptionId)}},{key:"render",value:function(){var t=this.state,e=t.articles,n=t.searchTerm;if(n){var r=new RegExp(n,"i");e=(0,d.default)(e,function(t,e){return t.title.match(r)||t.body.match(r)})}return s.default.createElement("div",null,s.default.createElement(g.default,null),s.default.createElement(m.default,null),s.default.createElement(b.default,{articles:e}))}}]),e}(c.Component);_.childContextTypes={store:f.default.object},e.default=_},539:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return u.default.createElement("div",null,Object.values(t.articles).map(function(t){return u.default.createElement(c.default,{key:t.id,article:t})}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(44),u=r(i),a=n(540),c=r(a)},540:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.article,n=t.author;return a.default.createElement("div",{style:p.article},a.default.createElement("div",{style:p.title},e.title),a.default.createElement("div",{style:p.date},d(e.date)),a.default.createElement("div",{style:p.author},a.default.createElement("a",{href:n.website},n.firstName," ",n.lastName)),a.default.createElement("div",{style:p.body},e.body))}function i(t,e){return{author:t.lookUpAuthor(e.article.authorId)}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(44),a=r(u),c=n(96),s=r(c),l=n(144),f=r(l),p={article:{paddingBottom:10,borderBottomStyle:"solid",borderBottomColor:"#aaa",borderBottomWidth:1,marginBottom:10,textAlign:"center"},title:{fontWeight:"bold"},date:{fontSize:"0.85em",color:"#888"},author:{paddingBottom:10,paddingTop:10},body:{padding:20}},d=function(t){return new Date(t).toDateString()};o.propTypes={article:s.default.shape({title:s.default.string.isRequired,date:s.default.string.isRequired,authorId:s.default.string.isRequired,body:s.default.string.isRequired})},e.default=(0,f.default)(i)(o)},541:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(44),s=r(c),l=n(218),f=r(l),p=n(144),d=r(p),h=function(t){function e(){var t,n,r,u;o(this,e);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),r.state={searchTerm:""},r.doSearch=(0,f.default)(function(){r.props.store.setSearchTerm(r.state.searchTerm)},500),r.handleChange=function(t){r.setState({searchTerm:t.target.value}),r.doSearch()},u=n,i(r,u)}return u(e,t),a(e,[{key:"render",value:function(){return s.default.createElement("input",{type:"search",value:this.state.searchTerm,onChange:this.handleChange,placeholder:"Enter sarch term"})}}]),e}(c.PureComponent);e.default=(0,d.default)()(h)},542:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return{timestamp:t.getState().timestamp}}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(44),l=r(s),f=n(144),p=r(f),d=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"shouldComponentUpdate",value:function(t,e){return this.props.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})!==t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},{key:"render",value:function(){return l.default.createElement("div",null,this.props.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}}]),e}(s.Component);e.default=(0,p.default)(a)(d)},543:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e){var n=this;r(this,t),this.lookUpAuthor=function(t){return n.data.authors[t]},this.getState=function(){return n.data},this.subscribe=function(t){return n.lastSubscriptionId+=1,n.subscriptions[n.lastSubscriptionId]=t,n.lastSubscriptionId},this.unsubscribe=function(t){delete n.subscriptions[t]},this.notifySubscribers=function(){Object.values(n.subscriptions).forEach(function(t){return t()})},this.mergeWithState=function(t){n.data=o({},n.data,t),n.notifySubscribers()},this.setSearchTerm=function(t){n.mergeWithState({searchTerm:t})},this.startClock=function(){setInterval(function(){n.mergeWithState({timestamp:new Date})},1e3)},this.data={articles:this.mapIntoObject(e.articles),authors:this.mapIntoObject(e.authors),searchTerm:"",timestamp:new Date},this.subscriptions={},this.lastSubscriptionId=0}return i(t,[{key:"mapIntoObject",value:function(t){return t.reduce(function(t,e){return t[e.id]=e,t},{})}}]),t}();e.default=u}},[537]);